# Linux Swap Manager

一个功能强大的Linux交换空间管理工具,提供图形化菜单界面,支持交换文件的创建、删除、监控和性能测试等功能。

[English](README_EN.md) | 简体中文

## ✨ 功能特性

- 🚀 交互式菜单界面,操作简单直观
- 📊 实时监控系统内存和交换空间使用情况
- 🛠 支持创建/删除交换文件
- 📈 内存压力测试功能
- ⚙️ 交换倾向性(swappiness)调整
- 🎨 彩色输出界面
- 🔒 完整的错误处理和安全检查

## 📥 安装

```
sudo apt install -y dos2unix && wget -qO- https://sh.beyond.pp.ua/swap-manager/swap_manager.sh > swap_manager.sh && dos2unix swap_manager.sh && bash swap_manager.sh
```

### 主要功能

1. **创建交换文件**
   - 支持自定义大小(0.1-5GB)
   - 自动检查磁盘空间
   - 自动配置开机启动
   - 安全权限设置

2. **删除交换文件**
   - 安全关闭并删除现有交换文件
   - 自动清理系统配置
   - 完整性检查

3. **查看系统信息**
   - 内存使用详情
   - 交换空间状态
   - 磁盘使用情况
   - CPU负载信息

4. **调整交换参数**
   - 支持临时/永久修改swappiness
   - 提供优化建议
   - 实时生效

5. **压力测试**
   - 自定义测试时长和强度
   - 实时监控系统状态
   - 自动化测试报告

## ⚙️ 系统要求

- Linux操作系统
- root权限
- bash shell
- 基础依赖:
  - bc (基础计算工具)
  - stress (压力测试,可选)

## ⚠️ 注意事项

1. **安全警告**
   - 必须以root权限运行
   - 建议在操作前备份重要数据
   - 不要在生产环境进行压力测试

2. **使用建议**
   - 建议交换文件大小为物理内存的1-2倍
   - swappiness推荐值: 10-60
   - 定期监控系统状态

3. **故障排除**
   - 如创建失败,检查磁盘空间
   - 如无法删除,确保交换文件未被使用
   - 压力测试可能触发OOM killer

## 🔧 常见问题

Q: 为什么需要交换空间?
A: 交换空间作为物理内存的扩展,可以防止内存耗尽导致的系统崩溃。

Q: 如何选择合适的交换文件大小?
A: 通常建议设置为物理内存的1-2倍,但要根据实际使用情况调整。

Q: swappiness值如何调整?
A: 服务器建议设置为10-30,桌面系统可以设置为30-60。

## 📄 许可证

本项目采用 MIT 许可证 - 详见 [LICENSE](LICENSE) 文件

## 🤝 贡献指南

1. Fork 本仓库
2. 创建特性分支
3. 提交更改
4. 推送到分支
5. 提交 Pull Request

## 🛠️ 更新日志

### v1.0.0 (2024-01-01)
- 初始版本发布
- 基础功能实现
- 交互式界面完成

### v1.0.1 (2024-01-15)
- 修复交换空间显示bug
- 优化性能监控
- 改进错误处理

## 📧 联系方式

如有问题或建议,欢迎通过以下方式联系:
- 提交 Issue
- 发送邮件: your.email@example.com

## 🌟 致谢

感谢所有贡献者对本项目的支持!
